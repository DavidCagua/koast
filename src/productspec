# üß† AI-First Feature Spec: Koast Automation MVP

---

## üìå Project Overview

Build a minimal web platform that allows a user to:

- Monitor a Meta Ads campaign's performance
- Set automation rules based on metrics like Spend, CTR, and Reach
- Log mock actions when rules are triggered

Uses the provided Meta Ads API proxy.

---

## üóÇÔ∏è Pages

### `/dashboard` ‚Äî üìä Campaign Highlights

#### Purpose:
Display real-time metrics for the campaign, synced from the Meta Ads API proxy.

#### Components:
- `CampaignMetricsCard` ‚Äì Display individual KPIs (spend, CTR, clicks, reach, impressions, etc.)
- `LastSynced` ‚Äì Show last time data was fetched
- `SyncButton` ‚Äì Optional manual refresh

#### Data Source:
- `GET /api/campaigns` ‚Üí pulls from DB
- Cron job or manual `/api/sync` endpoint to update

---

### `/automation` ‚Äî ‚öôÔ∏è Rules Manager

#### Purpose:
Create and manage automation rules that trigger mock actions.

#### Components:
- `RuleList` ‚Äì Table of rules (Name, Condition, Action, Last Triggered, Active?)
- `CreateRuleDialog` ‚Äì Modal/form to create new rule
- `RuleToggle` ‚Äì (optional) Enable/disable rule
- `ActionLogTable` ‚Äì List of all triggered mock actions

#### Data Source:
- `GET /api/rules`
- `POST /api/rules`
- `GET /api/actions`

---

## üõ†Ô∏è API Endpoints

### `GET /api/campaigns`
- Returns latest campaign metrics from DB

### `POST /api/sync`
- Fetch insights from Meta Ads API proxy:
```
GET https://dev-api.adcopy.ai/challenge-proxy/meta/120231398059670228/insights?fields=inline_link_clicks,cost_per_inline_link_click,reach,frequency,cpc,spend,clicks,impressions,ctr
```

#### Available Metrics:
- `spend` - Total campaign spend
- `clicks` - Total clicks
- `reach` - Total reach
- `impressions` - Total impressions
- `inline_link_clicks` - Link clicks
- `cost_per_inline_link_click` - Cost per link click
- `frequency` - Ad frequency
- `cpc` - Cost per click
- `ctr` - Click-through rate (from API)

#### Automation Rules Supported:
- **Spend** - Monitor total campaign spend
- **Clicks** - Monitor total clicks
- **Reach** - Monitor total reach
- **Impressions** - Monitor total impressions
- **CTR** - Monitor click-through rate
- **CPC** - Monitor cost per click
- **Frequency** - Monitor ad frequency
- **Link Clicks** - Monitor inline link clicks
- **Cost per Link Click** - Monitor cost per link click

#### Authentication:
- Requires `META_API_TOKEN` environment variable
- Uses Bearer token authentication